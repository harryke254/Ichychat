// Chat room logic with real-time updates and message status